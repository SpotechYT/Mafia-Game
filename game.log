spot@Linux-P16:~/GitHub/Mafia-Game$  /usr/bin/env /usr/lib/jvm/jdk-23.0.1-oracle-x64/bin/java -XX:+ShowCodeDetailsInExceptionMessages -cp /home/spot/GitHub/Mafia-Game/Mafia/bin Driver 
Going Online with namePlayer831
Listener started on UDP port 8888
Refresh
Sent Request 'DISCOVER_ROOM' to '10.9.139.152'
Received request: 'ROOM_OPEN' from '10.9.139.152'
Sent Request 'JOIN_ROOM:Player831' to '10.9.139.152'
Received request: 'PLAYERS:Player831:10.9.133.248
Player188:10.9.139.152
' from '10.9.139.152'
Game started!
Switching to GamePanel
Sent Request 'GAME_STARTED' to '10.9.133.248'
Received request: 'GAME_STARTED' from '10.9.133.248'
Switching to GamePanel
Sent Request 'GAME_STARTED' to '10.9.139.152'
Message sent to all players: GAME_STARTED
Roles assigned
Distributing role Mafia to player Player831 at IP 10.9.133.248
Sent Request 'ROLE:Mafia' to '10.9.133.248'
Distributing role Doctor to player Player188 at IP 10.9.139.152
Sent Request 'ROLE:Doctor' to '10.9.139.152'
Roles distributed to players
Night phase started
Sent Request 'NIGHT_PHASE' to '10.9.133.248'
Sent Request 'NIGHT_PHASE' to '10.9.139.152'
Message sent to all players: NIGHT_PHASE
Sent Request 'CHOOSE_VICTIM' to '10.9.133.248'
Sent Request 'CHOOSE_SAVE' to '10.9.139.152'
Waiting for players to choose victim and saved player...
Received request: 'ROLE:Mafia' from '10.9.133.248'
Assigned role: Mafia to player: Player831
Received request: 'NIGHT_PHASE' from '10.9.133.248'
Received request: 'CHOOSE_VICTIM' from '10.9.133.248'
Clicked on player: Player188
Sent Request 'VICTIM:Player188' to '10.9.133.248'
Sent Request 'VICTIM:Player188' to '10.9.139.152'
Message sent to all players: VICTIM:Player188
Received request: 'VICTIM:Player188' from '10.9.133.248'
Victim chosen: Player188
Received request: 'SAVE:Player188' from '10.9.139.152'
Saved player chosen: Player188
Line: GEMINI_API_KEY=AIzaSyDuIIlMi5Ahj2cyWDj5L-SiifS4q1INzpA
API Key: AIzaSyDuIIlMi5Ahj2cyWDj5L-SiifS4q1INzpA
Sending JSON:
{"contents": [  {"parts": [    {"text": "Write a short story about the following events:\n- The Mafia tried to kill Player188.\n- Player188 was saved by the Doctor = true.\nIf the Doctor did not save Player188, write a story about the Mafia killing Player188  successfully.\nIf the Doctor did save Player188, write a story about the Mafia failing to kill Player188.\nAvoid using dialogue. Act as a narrator. Keep it simple and avoid using complex words.\nUse only general terms, like \"the mafia\" or \"the doctor\", and avoid using specific names, other than Player188.\nThe attack can be anything. The mafia can attack Player188 in any way they want, even random and absurd ways.\nThe story should be in the past tense.\nUse a third person perspective.\nGenerate only one story, not multiple stories.\nThis is for the mafia party game.\n\nUse the following example as a reference:\nPlayer188 was eliminated by The Mafia after mistaking a horse’s head for a pillow. Rest in pieces (and hay).\nPlayer188 challenged The Mafia to a dance battle. Unfortunately, The Mafia moonwalked over their spine. Fatal, but funky.\nPlayer188 thought The Mafia was a magician. They volunteered for the \"sawing in half\" trick. No refunds.\nPlayer188 received a suspicious cannoli. They ate it anyway. \"Leave the gun, take the indigestion.\"\nPlayer188 tried to spy on The Mafia with a drone. The Mafia returned the favor with a live grenade strapped to a pigeon.\nPlayer188 was whacked after tweeting “#MafiaSucks.” Turns out The Mafia follows back—and hits back harder.\nPlayer188 tripped on a banana peel left by The Mafia. Classic slapstick… with a deadly fall off a 3-story balcony.\nPlayer188 refused to pay protection money—in Monopoly. The Mafia flipped the board... and the table... and Player188.\nPlayer188 opened a cursed spaghetti shop across the street from The Mafia's restaurant. Business: bad. Fate: worse.\nPlayer188 tried to prank The Mafia with a fake parking ticket. The Mafia responded by parking a tank on them.\nPlayer188 got sleep-deprived and accused the toaster of being The Mafia. The actual Mafia heard—and toasted them.\nPlayer188 was cast as an extra in a mafia movie. The Mafia thought it was a documentary. Rest in realism.\nPlayer188 stole The Mafia’s favorite meme and watermarked it. Internet beef turned into actual beef—with cement shoes.\nPlayer188 thought they could out-pizza The Mafia. The Mafia delivered… a pineapple-and-C4 special.\nPlayer188 hosted a roast of The Mafia. The jokes were killer. So was The Mafia.\nPlayer188 was crushed by a suspiciously large meatball. The Doctor re-inflated them using a bike pump and olive oil.\nThe Mafia filled Player188’s bathtub with live eels. After the shocking death, The Doctor jumpstarted them back with jumper cables and whale songs.\nPlayer188 choked on a poisoned cannoli. The Doctor removed the toxin using a reverse espresso enema and strong opinions.\nThe Mafia launched Player188 into the sun (via catapult). The Doctor caught the ashes in a jar, added Red Bull, and shook vigorously. Reassembled!\nPlayer188 was drowned in carbonated water. The Doctor resuscitated them by whispering flat facts until the fizz wore off.\nPlayer188 exploded from laughing at a Mafia pun. The Doctor stitched them back together using duct tape and a CPR-certified dad joke.\nThe Mafia hit Player188 with a piano. The Doctor extracted their soul from the C key and slammed it back in with a defibrillator solo.\nPlayer188 was run over by a gelato truck. The Doctor scooped their remains into a waffle cone and reanimated them with sprinkles of life.\nThe Mafia turned Player188 into lasagna. The Doctor deconstructed the dish, shouted “UNDO,” and cast a life-saving microwave spell.\nPlayer188 was launched into orbit by a “cement cannon.” The Doctor caught them with a space Roomba and rebooted their vitals with space WiFi.\nPlayer188 was turned into a statue by The Mafia's cursed Nonna. The Doctor melted the curse with a garlic poultice and soft jazz.\nThe Mafia poisoned Player188’s bubble tea. The Doctor extracted the toxic boba with tiny tweezers and pure disbelief.\nPlayer188’s soul was sent to voicemail. The Doctor called it back, left a strongly worded message, and boom—respawned.\nPlayer188 was folded into a pizza box. The Doctor unboxed them, microwaved for 30 seconds, and fluffed them back to life.\nPlayer188 died in a mysterious “accident” involving a rubber duck and a fish tank. The Doctor performed a rubber-duckectomy and rebooted them with a snorkel and CPR rap beat.\n"}  ]}]}

Response Code: 200
Raw Response:
{"candidates": [{"content": {"parts": [{"text": "The Mafia sent a package to Player188. Inside was a seemingly harmless rubber duck.  However, the duck was rigged with a tiny explosive.  The explosion was small, but enough to injure Player188 severely.  The Doctor, however, arrived swiftly.  Using advanced medical technology and a surprising amount of duct tape, the Doctor managed to stabilize Player188, saving their life. The Mafia's attempt to eliminate Player188 failed.\n"}],"role": "model"},"finishReason": "STOP","avgLogprobs": -0.1684379381002839}],"usageMetadata": {"promptTokenCount": 1097,"candidatesTokenCount": 97,"totalTokenCount": 1194,"promptTokensDetails": [{"modality": "TEXT","tokenCount": 1097}],"candidatesTokensDetails": [{"modality": "TEXT","tokenCount": 97}]},"modelVersion": "gemini-1.5-flash","responseId": "BZBAaJ76NtaIm9IPtKrskAM"}

Plain Text Output:
The Mafia sent a package to Player188. Inside was a seemingly harmless rubber duck.  However, the duck was rigged with a tiny explosive.  The explosion was small, but enough to injure Player188 severely.  The Doctor, however, arrived swiftly.  Using advanced medical technology and a surprising amount of duct tape, the Doctor managed to stabilize Player188, saving their life. The Mafia's attempt to eliminate Player188 failed.

Day phase started
Sent Request 'DAY_PHASE' to '10.9.133.248'
Received request: 'DAY_PHASE' from '10.9.133.248'
Sent Request 'DAY_PHASE' to '10.9.139.152'
Message sent to all players: DAY_PHASE
Sent Request 'STORY:The Mafia sent a package to Player188. Inside was a seemingly harmless rubber duck.  However, the duck was rigged with a tiny explosive.  The explosion was small, but enough to injure Player188 severely.  The Doctor, however, arrived swiftly.  Using advanced medical technology and a surprising amount of duct tape, the Doctor managed to stabilize Player188, saving their life. The Mafia's attempt to eliminate Player188 failed.
' to '10.9.133.248'
Received request: 'STORY:The Mafia sent a package to Player188. Inside was a seemingly harmless rubber duck.  However, the duck was rigged with a tiny explosive.  The explosion was small, but enough to injure Player188 severely.  The Doctor, however, arrived swiftly.  Using ' from '10.9.133.248'
The Mafia sent a package to Player188. Inside was a seemingly harmless rubber duck.  However, the duck was rigged with a tiny explosive.  The explosion was small, but enough to injure Player188 severely.  The Doctor, however, arrived swiftly.  Using 
Sent Request 'STORY:The Mafia sent a package to Player188. Inside was a seemingly harmless rubber duck.  However, the duck was rigged with a tiny explosive.  The explosion was small, but enough to injure Player188 severely.  The Doctor, however, arrived swiftly.  Using advanced medical technology and a surprising amount of duct tape, the Doctor managed to stabilize Player188, saving their life. The Mafia's attempt to eliminate Player188 failed.
' to '10.9.139.152'
Message sent to all players: STORY:The Mafia sent a package to Player188. Inside was a seemingly harmless rubber duck.  However, the duck was rigged with a tiny explosive.  The explosion was small, but enough to injure Player188 severely.  The Doctor, however, arrived swiftly.  Using advanced medical technology and a surprising amount of duct tape, the Doctor managed to stabilize Player188, saving their life. The Mafia's attempt to eliminate Player188 failed.

Sent Request 'DISCUSSION_STARTED' to '10.9.133.248'
Received request: 'DISCUSSION_STARTED' from '10.9.133.248'
Sent Request 'DISCUSSION_STARTED' to '10.9.139.152'
Message sent to all players: DISCUSSION_STARTED
Sent Request 'VOTE_STARTED' to '10.9.133.248'
Received request: 'VOTE_STARTED' from '10.9.133.248'
Sent Request 'VOTE_STARTED' to '10.9.139.152'
Message sent to all players: VOTE_STARTED
Day phase ended
Clicked on player: Player188
Sent Request 'VOTE:Player188' to '10.9.133.248'
Received request: 'VOTE:Player188' from '10.9.133.248'
Sent Request 'VOTE:Player188' to '10.9.139.152'
Message sent to all players: VOTE:Player188
Sent Request 'CHAT:Player831: Type your message here...' to '10.9.133.248'
Received request: 'CHAT:Player831: Type your message here...' from '10.9.133.248'
Sent Request 'CHAT:Player831: Type your message here...' to '10.9.139.152'
Message sent to all players: CHAT:Player831: Type your message here...
Received request: 'CHAT:Player188: ok' from '10.9.139.152'
Received request: 'VOTE:Player188' from '10.9.139.152'